<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Genetic Algorithms</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #00c9a7;
      --dark-bg: #0e0e0e;
      --light-bg: #f3f4f6;
      /* Card backgrounds */
      --card-bg-dark: rgba(255, 255, 255, 0.12);
      --card-bg-light: rgba(255, 255, 255, 0.8); /* More opaque for light mode */
      /* Option backgrounds */
      --option-bg-dark: rgba(255, 255, 255, 0.08);
      --option-bg-light: rgba(0, 0, 0, 0.04);
      --option-hover-dark: rgba(0, 201, 167, 0.15);
      --option-hover-light: rgba(0, 201, 167, 0.08);
      /* Feedback colors */
      --correct-bg: #a7f3d0;
      --incorrect-bg: #fecaca;
      --correct-text: #065f46;
      --incorrect-text: #991b1b;
      /* General text colors */
      --text-light: #ffffff;
      --text-dark: #111827;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Outfit', sans-serif;
      transition: background-color 0.5s, color 0.5s;
      overflow-x: hidden;
    }

    body.light {
      background-color: var(--light-bg);
      color: var(--text-dark);
    }

    body.dark {
      background-color: var(--dark-bg);
      color: var(--text-light);
    }

    h1 {
      text-align: center;
      font-size: 2.5rem;
      margin: 30px 0;
      color: var(--primary);
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
      z-index: 1;
      position: relative;
    }

    .question-card {
      border-radius: 20px;
      padding: 25px;
      margin-bottom: 30px;
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      border: 1px solid transparent; /* Base border */
    }

    body.light .question-card {
        background: var(--card-bg-light);
        border-color: rgba(0, 0, 0, 0.1);
    }

    body.dark .question-card {
        background: var(--card-bg-dark);
        border-color: rgba(255, 255, 255, 0.1);
    }

    .question-text {
      font-size: 1.3rem;
      margin-bottom: 20px; /* Increased margin */
      font-weight: 600;
    }

    .option-label {
      display: block;
      margin-bottom: 12px;
      padding: 12px 18px;
      border-radius: 15px;
      cursor: pointer;
      transition: background-color 0.3s, border-color 0.3s;
      border: 2px solid transparent;
    }

    body.light .option-label {
        background-color: var(--option-bg-light);
    }
    body.light .option-label:hover {
        background-color: var(--option-hover-light);
        border-color: var(--primary);
    }

    body.dark .option-label {
        background-color: var(--option-bg-dark);
    }
     body.dark .option-label:hover {
      background-color: var(--option-hover-dark);
      border-color: var(--primary);
    }

    .option-label.selected {
      border-color: var(--primary) !important; /* Ensure selected border is prominent */
    }

    .option-label.correct {
      background-color: var(--correct-bg) !important; /* Ensure correct bg overrides hover */
      color: var(--correct-text) !important;
      border-color: var(--correct-text) !important;
    }

    .option-label.incorrect.selected { /* Only the selected incorrect option */
      background-color: var(--incorrect-bg) !important;
      color: var(--incorrect-text) !important;
      border-color: var(--incorrect-text) !important;
    }

    .feedback {
      margin-top: 25px; /* Further increased margin */
      font-weight: bold;
      display: none;
      padding: 12px; /* Increased padding */
      border-radius: 8px;
      text-align: center;
    }
    
    .feedback.correct {
        display: block;
        background-color: var(--correct-bg);
        color: var(--correct-text);
    }

    .feedback.incorrect {
        display: block;
        background-color: var(--incorrect-bg);
        color: var(--incorrect-text);
    }

    #theme-toggle {
      position: fixed;
      top: 20px;
      right: 30px;
      background-color: var(--primary);
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
      z-index: 1000;
      font-size: 1rem;
      transition: background-color 0.3s;
    }

    #theme-toggle:hover {
      background-color: #00b894;
    }

    #lecture-fab {
      position: fixed;
      bottom: 20px;
      right: 30px;
      z-index: 1000;
    }

    #lecture-fab .main-btn {
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 1.6rem;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.25);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.3s ease;
    }
    #lecture-fab .main-btn:hover {
        transform: scale(1.1);
    }

    #lecture-buttons {
      position: absolute;
      bottom: 75px;
      right: 5px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 10px;
      pointer-events: none;
    }

    #lecture-buttons.show {
      pointer-events: auto;
    }

    #lecture-buttons button {
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 20px;
      padding: 10px 18px;
      font-size: 0.9rem;
      opacity: 0;
      transform: scale(0.5) translateY(20px);
      transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.3s ease-out;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
     #lecture-buttons button:hover {
        background-color: #00b894;
     }

    #lecture-buttons.show button {
      opacity: 1;
      transform: scale(1) translateY(0);
    }

    /* Staggered animation for lecture buttons */
    #lecture-buttons.show button:nth-child(1) { transition-delay: 0.0s; } /* Start immediately */
    #lecture-buttons.show button:nth-child(2) { transition-delay: 0.05s; }
    #lecture-buttons.show button:nth-child(3) { transition-delay: 0.1s; }
    #lecture-buttons.show button:nth-child(4) { transition-delay: 0.15s; }
    #lecture-buttons.show button:nth-child(5) { transition-delay: 0.2s; }
    #lecture-buttons.show button:nth-child(6) { transition-delay: 0.25s; }
    #lecture-buttons.show button:nth-child(7) { transition-delay: 0.3s; }
    #lecture-buttons.show button:nth-child(8) { transition-delay: 0.35s; }

    canvas.webgl {
      position: fixed;
      top: 0;
      left: 0;
      z-index: -1; /* Ensure it's behind everything */
    }
  </style>
</head>
<body>
  <div id="theme-toggle">🌙</div>
  <h1>Genetic Algorithms</h1>
  <div class="container" id="quiz-container"></div>

  <div id="lecture-fab">
    <div id="lecture-buttons"></div>
    <button class="main-btn">📚</button>
  </div>

  <canvas class="webgl"></canvas>

  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
  <script>
    // DOM Elements
    const canvasElement = document.querySelector('.webgl');
    const themeToggleButton = document.getElementById('theme-toggle');
    const quizContainer = document.getElementById("quiz-container");
    const lectureFabButton = document.querySelector("#lecture-fab .main-btn");
    const lectureButtonsContainer = document.getElementById("lecture-buttons");

    // Three.js Scene
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ canvas: canvasElement, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    camera.position.z = 35;

    const stars = [];
    function createStars() {
      stars.length = 0; // Clear existing stars if any (for potential re-creation)
      const starMaterial = new THREE.MeshStandardMaterial({ emissiveIntensity: 0.6 }); // Will set color later

      for (let i = 0; i < 500; i++) {
        const geometry = new THREE.SphereGeometry(Math.random() * 0.2 + 0.05, 16, 16);
        const star = new THREE.Mesh(geometry, starMaterial.clone()); // Clone material for individual control if needed, though color is set on all
        const [x, y, z] = Array(3).fill().map(() => THREE.MathUtils.randFloatSpread(250));
        star.position.set(x, y, z);
        scene.add(star);
        stars.push(star);
      }
    }
    createStars(); // Create stars once

    const ambientLight = new THREE.AmbientLight(0xffffff, 0.3);
    scene.add(ambientLight);
    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
    directionalLight.position.set(5, 10, 7.5);
    scene.add(directionalLight);

    function animateScene() {
      requestAnimationFrame(animateScene);
      stars.forEach(star => {
        star.rotation.x += Math.random() * 0.001; // Slower random rotation
        star.rotation.y += Math.random() * 0.001;
      });
      scene.rotation.y += 0.00015; // Slower scene rotation
      scene.rotation.x += 0.00004;
      renderer.render(scene, camera);
    }
    animateScene();

    // Theme Logic
    function applyTheme(isDark) {
        document.body.classList.toggle('dark', isDark);
        document.body.classList.toggle('light', !isDark);
        themeToggleButton.textContent = isDark ? '☀️' : '🌙';

        const starColorHex = isDark ? 0x222222 : 0x000000;
        const starEmissiveHex = isDark ? 0xcccccc : 0x000000; // Brighter emissive for dark, none for light
        const starEmissiveIntensity = isDark ? 0.7 : 0;

        stars.forEach(star => {
            if (star && star.material) {
                star.material.color.setHex(starColorHex);
                star.material.emissive.setHex(starEmissiveHex);
                star.material.emissiveIntensity = starEmissiveIntensity;
            }
        });
    }

    function toggleTheme() {
      const isCurrentlyDark = document.body.classList.contains('dark');
      applyTheme(!isCurrentlyDark);
      localStorage.setItem('theme', !isCurrentlyDark ? 'dark' : 'light');
    }
    themeToggleButton.addEventListener('click', toggleTheme);


    // Lecture FAB Logic
    function toggleLectures() {
      lectureButtonsContainer.classList.toggle("show");
    }
    lectureFabButton.addEventListener('click', toggleLectures);

    // Quiz Data
    const originalQuestions = [
  {
    "id": 1,
    "type": "multiple",
    "question": "What is the key characteristic of bespoke software?",
    "options": [
      "Developed for a single customer",
      "Developed for a broad market",
      "Open-source and free",
      "Used only for gaming"
    ],
    "correctAnswer": 0
  },
  {
    "id": 2,
    "type": "multiple",
    "question": "Agile methods are based on which type of approach?",
    "options": [
      "Waterfall",
      "Linear",
      "Iterative",
      "Sequential"
    ],
    "correctAnswer": 2
  },
  {
    "id": 3,
    "type": "multiple",
    "question": "According to rapid software development principles, what has become the requirement for software systems?",
    "options": [
      "Perfect documentation",
      "Rapid development and delivery",
      "Strict planning",
      "No user involvement"
    ],
    "correctAnswer": 1
  },
  {
    "id": 4,
    "type": "multiple",
    "question": "What does software engineering consider besides technical development?",
    "options": [
      "Only coding",
      "Only testing",
      "Project management and financial constraints",
      "Only UI design"
    ],
    "correctAnswer": 2
  },
  {
    "id": 5,
    "type": "multiple",
    "question": "What is one major challenge in software engineering?",
    "options": [
      "Ensuring software meets changing requirements",
      "Writing long documentation",
      "Avoiding user feedback",
      "Using old programming languages"
    ],
    "correctAnswer": 0
  },
  {
    "id": 6,
    "type": "multiple",
    "question": "What are the two types of software products?",
    "options": [
      "Generic and bespoke",
      "Open and closed",
      "Free and paid",
      "Mobile and desktop"
    ],
    "correctAnswer": 0
  },
  {
    "id": 7,
    "type": "multiple",
    "question": "What is the main aim of agile methods?",
    "options": [
      "Reduce overheads in the software process",
      "Increase documentation",
      "Avoid user feedback",
      "Delay delivery"
    ],
    "correctAnswer": 0
  },
  {
    "id": 8,
    "type": "multiple",
    "question": "In Agile methodology, which of the following is considered more important than comprehensive documentation?",
    "options": [
      "Working software",
      "Contracts",
      "Processes",
      "Tools"
    ],
    "correctAnswer": 0
  },
  {
    "id": 9,
    "type": "multiple",
    "question": "According to Agile principles, what is preferred over contract negotiation?",
    "options": [
      "Customer collaboration",
      "Strict planning",
      "Documentation",
      "Testing"
    ],
    "correctAnswer": 0
  },
  {
    "id": 10,
    "type": "multiple",
    "question": "What is minimized in agile development to focus on working code?",
    "options": [
      "Documentation",
      "Testing",
      "Coding",
      "Design"
    ],
    "correctAnswer": 0
  },
  {
    "id": 11,
    "type": "multiple",
    "question": "When did agile development methods emerge?",
    "options": [
      "Early 2000s",
      "1990s",
      "1980s",
      "2010s"
    ],
    "correctAnswer": 0
  },
  {
    "id": 12,
    "type": "multiple",
    "question": "Which of the following is valued more in Agile methodology?",
    "options": [
      "Individuals and interactions",
      "Processes and tools",
      "Comprehensive documentation",
      "Contract negotiation"
    ],
    "correctAnswer": 0
  },
  {
    "id": 13,
    "type": "multiple",
    "question": "Which of the following is NOT a responsibility of software engineering?",
    "options": [
      "Hardware circuit design",
      "Software design",
      "Testing",
      "Maintenance"
    ],
    "correctAnswer": 0
  },
  {
    "id": 14,
    "type": "multiple",
    "question": "In agile development, how are program specification, design, and implementation handled?",
    "options": [
      "Inter-leaved",
      "Sequential",
      "Separated",
      "Ignored"
    ],
    "correctAnswer": 0
  },
  {
    "id": 15,
    "type": "multiple",
    "question": "Which activity focuses on defining the organization of the system and implementing it?",
    "options": [
      "Design and implementation",
      "Testing",
      "Validation",
      "Deployment"
    ],
    "correctAnswer": 0
  },
  {
    "id": 16,
    "type": "multiple",
    "question": "What is the purpose of validation in the software process?",
    "options": [
      "Checking that it meets customer needs",
      "Finding bugs",
      "Improving performance",
      "Writing documentation"
    ],
    "correctAnswer": 0
  },
  {
    "id": 17,
    "type": "multiple",
    "question": "What is software?",
    "options": [
      "Computer programs and associated documentation",
      "Only mobile apps",
      "Only games",
      "Only operating systems"
    ],
    "correctAnswer": 0
  },
  {
    "id": 18,
    "type": "multiple",
    "question": "Which of these involves changing the system in response to changing customer needs?",
    "options": [
      "Evolution",
      "Validation",
      "Testing",
      "Design"
    ],
    "correctAnswer": 0
  },
  {
    "id": 19,
    "type": "multiple",
    "question": "What is a characteristic of generic software products?",
    "options": [
      "Developed for a broad market",
      "Developed for a single customer",
      "Used only in education",
      "Always open-source"
    ],
    "correctAnswer": 0
  },
  {
    "id": 20,
    "type": "multiple",
    "question": "Where does iteration occur in plan-driven development?",
    "options": [
      "Within activities",
      "Between releases",
      "After deployment",
      "Only in testing"
    ],
    "correctAnswer": 0
  },
  {
    "id": 21,
    "type": "multiple",
    "question": "How does plan-driven development handle development stages?",
    "options": [
      "Separate development stages",
      "All at once",
      "Randomly",
      "Only testing first"
    ],
    "correctAnswer": 0
  },
  {
    "id": 22,
    "type": "multiple",
    "question": "What is the primary focus of agile methods?",
    "options": [
      "Code",
      "Documentation",
      "Planning",
      "Testing"
    ],
    "correctAnswer": 0
  },
  {
    "id": 23,
    "type": "multiple",
    "question": "What is software engineering primarily concerned with?",
    "options": [
      "The entire software production process",
      "Only coding",
      "Only testing",
      "Only UI design"
    ],
    "correctAnswer": 0
  },
  {
    "id": 24,
    "type": "multiple",
    "question": "What part of agile development are stakeholders involved in?",
    "options": [
      "Version specification and evaluation",
      "Only testing",
      "Only coding",
      "Only deployment"
    ],
    "correctAnswer": 0
  },
  {
    "id": 25,
    "type": "multiple",
    "question": "Why is software documentation important?",
    "options": [
      "It provides details on how the software functions and is maintained",
      "It only helps the initial development team",
      "It helps in marketing the software",
      "It makes debugging more difficult"
    ],
    "correctAnswer": 0
  },
  {
    "id": 26,
    "type": "multiple",
    "question": "What is the main goal of software engineering?",
    "options": [
      "To produce reliable, maintainable, and efficient software",
      "To focus only on the front-end design",
      "To ensure that only one person can maintain the software",
      "To develop software quickly, regardless of quality"
    ],
    "correctAnswer": 0
  },
  {
    "id": 27,
    "type": "multiple",
    "question": "What is a characteristic of generic software products?",
    "options": [
      "Only available on cloud platforms",
      "Always free to use",
      "Developed for a broad market",
      "Developed for a specific client"
    ],
    "correctAnswer": 2
  },
  {
    "id": 28,
    "type": "multiple",
    "question": "Who is responsible for plan the system development process",
    "options": [
      "Manager",
      "Customer",
      "the Leader of the project",
      "Product Owner"
    ],
    "correctAnswer": 0
  },
  {
    "id": 29,
    "type": "multiple",
    "question": "Which one of the following is Not a software process quality?",
    "options": [
      "Visibility",
      "Timeliness",
      "Productivity",
      "Portability"
    ],
    "correctAnswer": 3
  },
  {
    "id": 30,
    "type": "multiple",
    "question": "Who is responsible for prioritizing the product backlog?",
    "options": [
      "Product Owner",
      "Scrum Master",
      "Lead Developer",
      "Tester"
    ],
    "correctAnswer": 0
  },
  {
    "id": 31,
    "type": "multiple",
    "question": ".......is not a fundamental activity for software processes in software development.",
    "options": [
      "Evolution",
      "Design and implementation",
      "Validation",
      "Verification"
    ],
    "correctAnswer": 3
  },
  {
    "id": 32,
    "type": "multiple",
    "question": "What do you understand by V&V in software testing?",
    "options": [
      "Verified Version",
      "Version Validation",
      "Verification and Validation",
      "Version Verification"
    ],
    "correctAnswer": 2
  },
  {
    "id": 33,
    "type": "multiple",
    "question": "Who uses the requirements document to plan a bid for the system and to plan the system development process?",
    "options": [
      "Maintenance engineer",
      "Customer",
      "Managers",
      "System Engineer"
    ],
    "correctAnswer": 2
  },
  {
    "id": 34,
    "type": "multiple",
    "question": "Find out which phase is not available in SDLC?",
    "options": [
      "Coding",
      "Testing",
      "Design",
      "Abstraction"
    ],
    "correctAnswer": 3
  },
  {
    "id": 35,
    "type": "multiple",
    "question": "which of the following means changing the system in response to changing customer needs?",
    "options": [
      "Desing",
      "Implementations",
      "Evolution",
      "Validation"
    ],
    "correctAnswer": 2
  },
  {
    "id": 36,
    "type": "multiple",
    "question": "V-Model is similar or based on",
    "options": [
      "Waterfall",
      "incremented",
      "reuse model",
      "Agile"
    ],
    "correctAnswer": 0
  },
  {
    "id": 37,
    "type": "multiple",
    "question": "what does RUP denote to",
    "options": [
      "Rational Unified Problem",
      "Rational United Problem",
      "Rational United Process",
      "Rational Unified Process"
    ],
    "correctAnswer": 3
  },
  {
    "id": 38,
    "type": "multiple",
    "question": "is a software development life cycle model that is chosen if the development team has less experience on similar projects.",
    "options": [
      "Iterative Enhancement Model",
      "RAD",
      "Spiral",
      "Waterfall"
    ],
    "correctAnswer": 2
  },
  {
    "id": 39,
    "type": "multiple",
    "question": "In the .... development process, the various phases of development are completed sequentially",
    "options": [
      "Incremental",
      "Waterfall",
      "Spiral",
      "Agile"
    ],
    "correctAnswer": 1
  },
  {
    "id": 40,
    "type": "multiple",
    "question": "Agile Software Development is based on which of the following type?",
    "options": [
      "Iterative Development",
      "Incremental Development",
      "Linear Development",
      "Both Incremental and Iterative Development"
    ],
    "correctAnswer": 3
  },
  {
    "id": 41,
    "type": "multiple",
    "question": "What is the first step in the requirements engineering process?",
    "options": [
      "Requirements validation",
      "Requirements specification",
      "Requirements elicitation and analysis",
      "Evolution"
    ],
    "correctAnswer": 2
  },
  {
    "id": 42,
    "type": "multiple",
    "question": "What is a key characteristic of agile development regarding stakeholder involvement?",
    "options": [
      "Stakeholders are not involved",
      "Stakeholders are involved in version specification and evaluation",
      "Stakeholders only review final product",
      "Stakeholders write code"
    ],
    "correctAnswer": 1
  },
  {
    "id": 43,
    "type": "multiple",
    "question": "What is emphasized more in Agile development?",
    "options": [
      "Processes and tools",
      "Working software",
      "Following a plan",
      "Detailed contracts"
    ],
    "correctAnswer": 1
  },
  {
    "id": 44,
    "type": "multiple",
    "question": "What is the first phase in Scrum?",
    "options": [
      "The sprint cycle",
      "The project closure",
      "The initial phase",
      "The testing phase"
    ],
    "correctAnswer": 2
  },
  {
    "id": 45,
    "type": "multiple",
    "question": "How do Agile methods reduce overheads in the software process?",
    "options": [
      "By limiting documentation",
      "By increasing testing cycles",
      "By reducing collaboration",
      "By following a rigid process"
    ],
    "correctAnswer": 0
  },
  {
    "id": 46,
    "type": "multiple",
    "question": "The Product Owner can also be:",
    "options": [
      "A software tester",
      "A product manager",
      "A project closure specialist",
      "A system administrator"
    ],
    "correctAnswer": 1
  },
  {
    "id": 47,
    "type": "multiple",
    "question": "In Extreme Programming, user requirements are expressed as:",
    "options": [
      "Use cases",
      "Flowcharts",
      "User stories or scenarios",
      "Detailed design documents"
    ],
    "correctAnswer": 2
  },
  {
    "id": 48,
    "type": "multiple",
    "question": "Why does refactoring make changes easier?",
    "options": [
      "Because it removes all comments",
      "Because it eliminates all bugs",
      "Because the code is well-structured and clear",
      "Because it reduces testing"
    ],
    "correctAnswer": 2
  },
  {
    "id": 49,
    "type": "multiple",
    "question": "Where are user stories written?",
    "options": [
      "In software logs",
      "On index cards",
      "In a spreadsheet",
      "In a printed document"
    ],
    "correctAnswer": 1
  },
  {
    "id": 50,
    "type": "multiple",
    "question": "What is the primary focus of Scrum?",
    "options": [
      "Managing iterative development",
      "Eliminating customer involvement",
      "Reducing project phases",
      "Increasing documentation"
    ],
    "correctAnswer": 0
  },
  {
    "id": 51,
    "type": "multiple",
    "question": "What is one major benefit of refactoring?",
    "options": [
      "Increased complexity",
      "Reduced understandability",
      "Reduced need for documentation",
      "Increased testing requirements"
    ],
    "correctAnswer": 2
  },
  {
    "id": 52,
    "type": "multiple",
    "question": "What is the goal of Agile methods?",
    "options": [
      "Reduce development speed",
      "Increasing documentation requirements",
      "Deliver working software quickly",
      "Eliminate user involvement"
    ],
    "correctAnswer": 2
  },
  {
    "id": 53,
    "type": "multiple",
    "question": "What does the Product Owner continuously review?",
    "options": [
      "The testing scripts",
      "The product backlog",
      "The final release notes",
      "The server logs"
    ],
    "correctAnswer": 1
  },
  {
    "id": 54,
    "type": "multiple",
    "question": "Who is responsible for choosing the user stories for the next release?",
    "options": [
      "Developers",
      "Product Manager",
      "Customer",
      "Scrum Master"
    ],
    "correctAnswer": 2
  },
  {
    "id": 55,
    "type": "multiple",
    "question": "What happens during the project closure phase in Scrum?",
    "options": [
      "The system is delivered, and documentation is completed",
      "The team gathers new requirements",
      "Sprint cycles begin",
      "Coding starts"
    ],
    "correctAnswer": 0
  },
  {
    "id": 56,
    "type": "multiple",
    "question": "What is one of the key responsibilities of a Product Owner in Scrum?",
    "options": [
      "Write the code",
      "Identify product requirements",
      "Conduct system testing",
      "Eliminate documentation"
    ],
    "correctAnswer": 1
  },
  {
    "id": 57,
    "type": "multiple",
    "question": "What is the purpose of the sprint cycles in Scrum?",
    "options": [
      "To finalize the documentation",
      "To develop an increment of the system",
      "To analyze the market",
      "To plan the initial requirements"
    ],
    "correctAnswer": 1
  },
  {
    "id": 58,
    "type": "multiple",
    "question": "How often are increments delivered to customers in XP?",
    "options": [
      "Every day",
      "Every month",
      "Every 2 weeks",
      "Once at project completion"
    ],
    "correctAnswer": 2
  },
  {
    "id": 59,
    "type": "multiple",
    "question": "In XP, what must happen for a build to be accepted?",
    "options": [
      "Code review must be completed",
      "All tests must pass",
      "A formal approval from management is needed",
      "The documentation must be finalized"
    ],
    "correctAnswer": 1
  },
  {
    "id": 60,
    "type": "multiple",
    "question": "What is refactoring?",
    "options": [
      "Improving code structure without changing its functionality",
      "Adding more documentation",
      "Removing old code without replacement",
      "Changing the entire project framework"
    ],
    "correctAnswer": 0
  },
  {
    "id": 61,
    "type": "multiple",
    "question": "What is a key benefit of iterative development in Scrum?",
    "options": [
      "Reduces project costs",
      "Eliminates all bugs",
      "Provides continuous feedback",
      "Avoid documentation"
    ],
    "correctAnswer": 2
  },
  {
    "id": 62,
    "type": "multiple",
    "question": "What does the requirements engineering process aim to establish?",
    "options": [
      "Coding standards",
      "Services needed by the customer",
      "Budget allocations",
      "Deployment strategies"
    ],
    "correctAnswer": 1
  },
  {
    "id": 63,
    "type": "multiple",
    "question": "Which of the following is NOT a functional requirement?",
    "options": [
      "User authentication",
      "Payment processing",
      "System performance constraints",
      "Data validation"
    ],
    "correctAnswer": 2
  },
  {
    "id": 64,
    "type": "multiple",
    "question": "Which of these is an important part of a Scrum team's responsibilities?",
    "options": [
      "Define marketing strategies",
      "Manage financial accounting",
      "Deliver potentially shippable products",
      "Approved project budgets"
    ],
    "correctAnswer": 2
  },
  {
    "id": 65,
    "type": "multiple",
    "question": "What is the starting point for planning in Scrum?",
    "options": [
      "Sprint backlog",
      "Product backlog",
      "Project charter",
      "User stories"
    ],
    "correctAnswer": 1
  },
  {
    "id": 66,
    "type": "multiple",
    "question": "What is the primary purpose of functional requirements?",
    "options": [
      "Define security policies",
      "Improve UI design",
      "Manage project budget",
      "Specify system behavior"
    ],
    "correctAnswer": 3
  },
  {
    "id": 67,
    "type": "multiple",
    "question": "Which role ensures the Scrum process is followed?",
    "options": [
      "Scrum Master",
      "Product Owner",
      "Developer",
      "Stakeholder"
    ],
    "correctAnswer": 0
  },
  {
    "id": 68,
    "type": "multiple",
    "question": "What document defines system constraints and performance measures?",
    "options": [
      "Functional requirements",
      "Non-functional requirements",
      "User stories",
      "Business case"
    ],
    "correctAnswer": 1
  },
  {
    "id": 69,
    "type": "multiple",
    "question": "Who is responsible for selecting features for development in a sprint?",
    "options": [
      "Scrum Master",
      "Stakeholders",
      "Product Owner",
      "Entire project team"
    ],
    "correctAnswer": 3
  },
  {
    "id": 70,
    "type": "multiple",
    "question": "What is the role of a Product Owner in Scrum?",
    "options": [
      "Manage the development team",
      "Define the product vision",
      "Write test cases",
      "Conduct code reviews"
    ],
    "correctAnswer": 1
  },
  {
    "id": 71,
    "type": "multiple",
    "question": "Which Scrum event is time-boxed and occurs daily?",
    "options": [
      "Sprint planning",
      "Sprint retrospective",
      "Daily Scrum",
      "Sprint review"
    ],
    "correctAnswer": 2
  },
  {
    "id": 72,
    "type": "multiple",
    "question": "What does the Sprint Retrospective focus on?",
    "options": [
      "Reviewing the entire project",
      "Identifying process improvements",
      "Adding new features",
      "Estimating costs"
    ],
    "correctAnswer": 1
  },
  {
    "id": 73,
    "type": "multiple",
    "question": "Which artifact contains all the tasks planned for a Sprint?",
    "options": [
      "Product backlog",
      "Sprint backlog",
      "User story map",
      "Project roadmap"
    ],
    "correctAnswer": 1
  },
  {
    "id": 74,
    "type": "multiple",
    "question": "What is reviewed at the end of a sprint?",
    "options": [
      "The completed work",
      "The release Notes",
      "The project budget",
      "The test plans"
    ],
    "correctAnswer": 0
  },
  {
    "id": 75,
    "type": "multiple",
    "question": "Which of these is NOT a Scrum artifact?",
    "options": [
      "Product backlog",
      "Sprint backlog",
      "Sprint review",
      "Increment"
    ],
    "correctAnswer": 2
  },
  {
    "id": 76,
    "type": "multiple",
    "question": "What is the typical duration of a Scrum Sprint?",
    "options": [
      "4-2 days",
      "2-4 weeks",
      "2-3 months",
      "6 months"
    ],
    "correctAnswer": 1
  },
  {
    "id": 77,
    "type": "multiple",
    "question": "What is the term for a list of all desired project features and functionalities?",
    "options": [
      "Sprint backlog",
      "Product backlog",
      "Feature list",
      "User story map"
    ],
    "correctAnswer": 1
  },
  {
    "id": 78,
    "type": "multiple",
    "question": "What does a Scrum team commit to during Sprint Planning?",
    "options": [
      "Assigning tasks to individuals",
      "Delivering a set of features",
      "Completing documentation",
      "Writing test cases"
    ],
    "correctAnswer": 1
  },
  {
    "id": 79,
    "type": "multiple",
    "question": "What is a key deliverable at the end of each Sprint?",
    "options": [
      "A new project charter",
      "A working increment of software",
      "A complete test plan",
      "A finalized budget"
    ],
    "correctAnswer": 1
  },
  {
    "id": 80,
    "type": "multiple",
    "question": "What is a common challenge in Scrum implementation?",
    "options": [
      "Lack of meetings",
      "Resistance to change",
      "Over-documentation",
      "Fixed product backlog"
    ],
    "correctAnswer": 1
  },
  {
    "id": 81,
    "type": "truefalse",
    "question": "Does software requirement document equal to a design document",
    "options": ["True", "False"],
    "correctAnswer": 1
  },
  {
    "id": 82,
    "type": "truefalse",
    "question": "System Test Engineers use the requirements to develop the validation test for the system",
    "options": ["True", "False"],
    "correctAnswer": 0
  },
  {
    "id": 83,
    "type": "truefalse",
    "question": "in the national language for the software specification each sentence should express one requirement",
    "options": ["True", "False"],
    "correctAnswer": 0
  },
  {
    "id": 84,
    "type": "truefalse",
    "question": "Iteration within the RUP is supported in one way",
    "options": ["True", "False"],
    "correctAnswer": 1
  },
  {
    "id": 85,
    "type": "truefalse",
    "question": "the prototype probably will meet the normal organizational quality standards",
    "options": ["True", "False"],
    "correctAnswer": 0
  },
  {
    "id": 86,
    "type": "truefalse",
    "question": "prototypes are documented and structured",
    "options": ["True", "False"],
    "correctAnswer": 1
  },
  {
    "id": 87,
    "type": "truefalse",
    "question": "In-phase iteration is the whole set of phases may also be enacted incrementally",
    "options": ["True", "False"],
    "correctAnswer": 1
  },
  {
    "id": 88,
    "type": "truefalse",
    "question": "RUP is old generic process",
    "options": ["True", "False"],
    "correctAnswer": 1
  },
  {
    "id": 89,
    "type": "truefalse",
    "question": "The highest priority system services tend to receive the most testing",
    "options": ["True", "False"],
    "correctAnswer": 0
  },
  {
    "id": 90,
    "type": "truefalse",
    "question": "Prototypes should be discarded before development",
    "options": ["True", "False"],
    "correctAnswer": 1
  },
  {
    "id": 91,
    "type": "truefalse",
    "question": "focus on non-functional rather than functional requirement that means security and reliability.",
    "options": ["True", "False"],
    "correctAnswer": 0
  },
  {
    "id": 92,
    "type": "truefalse",
    "question": "Non-functional requirements may be more critical than functional requirements",
    "options": ["True", "False"],
    "correctAnswer": 0
  },
  {
    "id": 93,
    "type": "truefalse",
    "question": "Requirement is the process of establishing the services that the customer requires from a system and the constraints under which it operates and is developed.",
    "options": ["True", "False"],
    "correctAnswer": 1
  },
  {
    "id": 94,
    "type": "truefalse",
    "question": "requirements should be complete only",
    "options": ["True", "False"],
    "correctAnswer": 1
  },
  {
    "id": 95,
    "type": "truefalse",
    "question": "Prototype should focus on areas of the product that are well-understood.",
    "options": ["True", "False"],
    "correctAnswer": 1
  },
  {
    "id": 96,
    "type": "truefalse",
    "question": "System Engineers use the requirements to develop validation tests for the system.",
    "options": ["True", "False"],
    "correctAnswer": 1
  },
  {
    "id": 97,
    "type": "truefalse",
    "question": "Delivery requirements consider Non-functional requirement.",
    "options": ["True", "False"],
    "correctAnswer": 0
  },
  {
    "id": 98,
    "type": "truefalse",
    "question": "Legislative requirements consider functional requirement.",
    "options": ["True", "False"],
    "correctAnswer": 1
  },
  {
    "id": 99,
    "type": "truefalse",
    "question": "software engineers should use their technical skills to misuse other people's computers",
    "options": ["True", "False"],
    "correctAnswer": 1
  },
  {
    "id": 100,
    "type": "truefalse",
    "question": "in the RUP model; dynamic perspective shows good practice",
    "options": ["True", "False"],
    "correctAnswer": 1
  },
  {
    "id": 101,
    "type": "truefalse",
    "question": "The difference between software engineering and computer science is that computer science focuses on the practicalities of developing but the SWE focuses on the theory and fundamental",
    "options": ["True", "False"],
    "correctAnswer": 1
  },
  {
    "id": 102,
    "type": "truefalse",
    "question": "Ethical behavior is more than simply uploading the law",
    "options": ["True", "False"],
    "correctAnswer": 0
  },
  {
    "id": 103,
    "type": "truefalse",
    "question": "In agile methods the software is developed in increments with the customer specifying the requirements to be included in each increment",
    "options": ["True", "False"],
    "correctAnswer": 0
  },
  {
    "id": 104,
    "type": "truefalse",
    "question": "in the RUP model; static perspective shows process activities",
    "options": ["True", "False"],
    "correctAnswer": 0
  },
  {
    "id": 105,
    "type": "truefalse",
    "question": "Later increments act as a prototype to help elicit requirements for updating",
    "options": ["True", "False"],
    "correctAnswer": 1
  }
    ];

    const lectureRanges = [
     { name: "All Questions", from: 1, to: 1000 }
    ];

    // Quiz Rendering Logic
    function renderQuiz(questionsToRender) {
      quizContainer.innerHTML = "";
      questionsToRender.forEach((q) => {
        const card = document.createElement("div");
        card.className = "question-card";

        const questionText = document.createElement("div");
        questionText.className = "question-text";
        questionText.textContent = `Q${q.id}: ${q.question}`;
        card.appendChild(questionText);

        const optionsContainer = document.createElement("div"); // Container for options
        card.appendChild(optionsContainer);

        const feedback = document.createElement("div");
        feedback.className = "feedback";
        card.appendChild(feedback); // Append feedback after options container

        let answerSubmitted = false; // Flag to prevent multiple submissions

        if (q.type === "multiple") {
          const optionsWithIndex = q.options.map((opt, originalIndex) => ({
            text: opt,
            originalIndex: originalIndex
          }));
          const shuffledOptions = optionsWithIndex.sort(() => 0.5 - Math.random());

          shuffledOptions.forEach(optionData => {
            const label = document.createElement("label");
            label.className = "option-label";
            label.textContent = optionData.text;
            label.onclick = () => {
              if (answerSubmitted) return; // Don't process if already answered

              const allOptionLabels = optionsContainer.querySelectorAll(".option-label");
              allOptionLabels.forEach(l => l.classList.remove("selected"));
              label.classList.add("selected");

              if (optionData.originalIndex === q.correctAnswer) {
                label.classList.add("correct");
                feedback.textContent = "Correct! ✔️";
                feedback.className = "feedback correct";
              } else {
                label.classList.add("incorrect", "selected"); // Mark selected incorrect
                feedback.textContent = "Incorrect. ❌";
                feedback.className = "feedback incorrect";
                // Highlight the correct answer
                allOptionLabels.forEach(l => {
                  const correctOptionText = q.options[q.correctAnswer];
                  if (l.textContent === correctOptionText) {
                    l.classList.add("correct"); // Just add 'correct' to show, don't make it look selected
                  }
                });
              }
              answerSubmitted = true;
               allOptionLabels.forEach(l => l.style.pointerEvents = 'none'); // Disable further clicks
            };
            optionsContainer.appendChild(label);
          });
        } else if (q.type === "truefalse") {
          const trueFalseUiOptions = [
            { text: "True", value: 1 },
            { text: "False", value: 0 }
          ];
          trueFalseUiOptions.forEach(uiOption => {
            const label = document.createElement("label");
            label.className = "option-label";
            label.textContent = uiOption.text;
            label.onclick = () => {
              if (answerSubmitted) return;

              const allOptionLabels = optionsContainer.querySelectorAll(".option-label");
              allOptionLabels.forEach(l => l.classList.remove("selected"));
              label.classList.add("selected");

              if (uiOption.value === q.correctAnswer) {
                label.classList.add("correct");
                feedback.textContent = "Correct! ✔️";
                feedback.className = "feedback correct";
              } else {
                label.classList.add("incorrect", "selected");
                feedback.textContent = "Incorrect. ❌";
                feedback.className = "feedback incorrect";
                 allOptionLabels.forEach(l => { // Highlight correct for T/F
                  const optValueForHighlight = l.textContent === "True" ? 1 : 0;
                  if (optValueForHighlight === q.correctAnswer) {
                    l.classList.add("correct");
                  }
                });
              }
              answerSubmitted = true;
              allOptionLabels.forEach(l => l.style.pointerEvents = 'none'); // Disable further clicks
            };
            optionsContainer.appendChild(label);
          });
        }
        quizContainer.appendChild(card);
      });
    }

    // Populate Lecture Buttons
    lectureRanges.forEach(range => {
      const btn = document.createElement("button");
      btn.textContent = range.name;
      btn.onclick = () => {
        const filteredQuestions = originalQuestions.filter(q => q.id >= range.from && q.id <= range.to);
        renderQuiz(filteredQuestions);
        lectureButtonsContainer.classList.remove("show");
      };
      lectureButtonsContainer.appendChild(btn);
    });

    // Initial Load
    window.onload = () => {
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      const savedTheme = localStorage.getItem('theme');
      let initialThemeIsDark;

      if (savedTheme === 'dark') {
          initialThemeIsDark = true;
      } else if (savedTheme === 'light') {
          initialThemeIsDark = false;
      } else {
          initialThemeIsDark = prefersDark; // Default to OS preference if no saved theme
      }
      
      applyTheme(initialThemeIsDark);

      if(lectureRanges.length > 0 && originalQuestions.length > 0){
          const firstLectureRange = lectureRanges[0];
          const initialQuestions = originalQuestions.filter(q => q.id >= firstLectureRange.from && q.id <= firstLectureRange.to);
          renderQuiz(initialQuestions.length > 0 ? initialQuestions : originalQuestions); // Fallback to all if filter is empty
      } else {
          renderQuiz(originalQuestions);
      }
    };

    // Window Resize Handler
    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });

  </script>
</body>
</html>
